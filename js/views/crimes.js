define(["app","jquery","marionette","handlebars","views/crime","text!templates/crimesTemplate.html"],function(app,$,Marionette,Handleblars,CrimeView,crimesTemplate){var CrimesView=Marionette.CompositeView.extend({template:Handleblars.compile(crimesTemplate),className:"table-content",childView:CrimeView,childViewContainer:"ul",initialize:function(options){var self=this;this.categories=[],$(this.collection.models).each(function(index){-1===$.inArray(this.attributes.category,self.categories)&&self.categories.push(this.attributes.category)}),app.vent.on("filter:new",function(term){self.term=term,self.filter=function(child,index,collection,term){return""!==self.term&&void 0!==self.term&&"Select a category"!==self.term?child.get("category")==self.term:1},self.render()})}});return CrimesView});