(function(){var Google,promiseError;if("undefined"==typeof window)throw new Error("Google-maps package can be used only in browser.");promiseError=function(){throw new Error("Using promises is not supported anymore. Please take a look in new documentation and use callback instead.")},Google=function(){function Google(){}return Google.URL="https://maps.googleapis.com/maps/api/js",Google.KEY=null,Google.LIBRARIES=[],Google.CLIENT=null,Google.SENSOR=!1,Google._VERSION="3.14",Google.VERSION=Google._VERSION,Google.WINDOW_CALLBACK_NAME="__google_maps_api_provider_initializator__",Google.script=null,Google.google=null,Google.loading=!1,Google.callbacks=[],Google.onLoadEvents=[],Google.load=function(fn){return null==fn&&(fn=null),null===this.google?this.loading===!0?null!==fn&&this.callbacks.push(fn):(this.loading=!0,window[this.WINDOW_CALLBACK_NAME]=function(_this){return function(){return _this._ready(fn)}}(this),this.script=document.createElement("script"),this.script.type="text/javascript",this.script.src=this.createUrl(),document.body.appendChild(this.script)):null!==fn&&fn(this.google),{then:function(){return promiseError()},"catch":function(){return promiseError()},fail:function(){return promiseError()}}},Google.createUrl=function(){var url;return url=this.URL,url+=this.SENSOR===!0||"true"===this.SENSOR?"?sensor=true":"?sensor=false",null!=this.KEY&&(url+="&key="+this.KEY),this.LIBRARIES.length>0&&(url+="&libraries="+this.LIBRARIES.join(",")),null!=this.CLIENT&&(url+="&client="+this.CLIENT+"&v="+this.VERSION),url+="&callback="+this.WINDOW_CALLBACK_NAME},Google.release=function(fn){var _release;return _release=function(_this){return function(){return _this.KEY=null,_this.LIBRARIES=[],_this.CLIENT=null,_this.SENSOR=!1,_this.VERSION=_this._VERSION,_this.google=null,_this.loading=!1,_this.callbacks=[],_this.onLoadEvents=[],"undefined"!=typeof window.google&&delete window.google,"undefined"!=typeof window[_this.WINDOW_CALLBACK_NAME]&&delete window[_this.WINDOW_CALLBACK_NAME],null!==_this.script&&(_this.script.parentElement.removeChild(_this.script),_this.script=null),fn()}}(this),this.loading?this.load(function(){return _release()}):_release()},Google.onLoad=function(fn){return this.onLoadEvents.push(fn)},Google._ready=function(fn){var event,_i,_j,_len,_len1,_ref,_ref1;for(null==fn&&(fn=null),Google.loading=!1,null===Google.google&&(Google.google=window.google),_ref=Google.onLoadEvents,_i=0,_len=_ref.length;_len>_i;_i++)(event=_ref[_i])(Google.google);for(null!==fn&&fn(Google.google),_ref1=Google.callbacks,_j=0,_len1=_ref1.length;_len1>_j;_j++)(fn=_ref1[_j])(Google.google);return Google.callbacks=[]},Google}(),"object"==typeof module?module.exports=Google:window.GoogleMapsLoader=Google}).call(this);